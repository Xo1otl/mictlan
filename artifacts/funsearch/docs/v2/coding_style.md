# Python Coding Style

## 1. 設計思想

* **Composition > Inheritance**: 継承は使用せず、コンポジションで機能を組み立てる。
* **関心の分離**: オブジェクトの「振る舞いの定義」と「生成・初期化」の責務を完全に分離する。
* **垂直分割**: モジュールは技術レイヤー（水平）ではなく、機能・ドメイン（垂直）で分割する。

## 2. オブジェクトの定義と生成

クラスは振る舞いを定義するテンプレートとしてのみ機能し、自身の初期化ロジックを持たない。この設計は、コンストラクタを持たず、ファクトリー関数でインスタンスを生成するGo言語の思想に倣う。

* **クラスの責務**: プロパティ（状態）と、それを用いた振る舞いの定義に専念する。
* **`__init__`の禁止**: クラス内に`__init__`メソッドを定義しない。
* **ファクトリー関数**: オブジェクトの生成と初期化はファクトリー関数が担う。ファクトリーは、完全に初期化されたインスタンスを、実装クラスではなくプロトコル型で返す。

## 3. 型付け

型エイリアス (`type`) とジェネリクス (`class C[T]:`) は、Python 3.12以降の構文を使用する。`TypeVar`は禁止する。

## 4. 命名規則

* **関数型**: `Callable`の型エイリアスには接尾辞 `Fn` を付ける。
* **プロトコルと実装**:
    * **プロトコル名**: 抽象的な概念名（例: `Optimizer`）とする。
    * **実装クラス名**: アルゴリズムなどを示す具体的な名前（例: `BFGSOptimizer`）とする。
