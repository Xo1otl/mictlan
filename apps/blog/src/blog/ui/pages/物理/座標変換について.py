import streamlit as st

r"""
# 座標変換について

相対性理論で登場する座標変換が急に光波工学でエレガントな登場してきたのでメモ

## 座標変換の簡単な例

楕円の方程式が分からないが円の方程式はわかっているとする

今目の前に楕円があるとして、楕円の方程式を導く方法は以下の通り

1. 我々にとって楕円に見えるその実体が円に見えているような座標系に住んでいるオブザーバーを用意する
2. その座標系に対してどのような座標変換を行うと我々の座標系になるか考える
3. 円の公式に対してその座標変換を適用する

このような手法は固有ベクトルを用いたべき乗の計算でも行われる

1. 我々にとってべき乗が計算しにくい演算を表す行列が、計算しやすい演算に見えているような座標系を固有方程式を解くことによって見つける
2. その座標系に移動して計算を行う
3. 計算が終わったら我々の座標系に戻す

座標変換は具体例さえあれば至極直感的で自明な操作である

## 例え話でわかる座標変換
我々は定規がなければ長さを測ることができない

我々が普段使う定規と、二乗の尺度でメモリが振られている定規の2つと、それぞれを所持するオブザーバーを考える

それぞれのオブザーバーは自身の定規しか使ったことがなく、自分の定規で測って目盛りを数えてその値を長さとする

我々が普段使う定規がで測ると9の目盛りを示す実体を考える

これを二乗の尺度の定規で測ると目盛りは3を示す

つまり二乗の定規を持つ人は我々より小さく見えているのである

普通の人と巨人の例を考えてみる

巨人は普通の人が大きく見えるものがミニチュアに見えるだろう

つまり二乗の尺度の定規を持つ人は巨人みたいな見え方になっている

この定規の例は、$z=z'^2$の座標変換を表している

つまり$z=z'^2$という座標変換は、普通の人が持つ定規をzとした時、これを式のとおりに無理やり伸ばして変形させて新しい定規を作るという操作である

またここで超大切なのが、変換されているのは座標系であって、実体ではないということである

## 実体は変わらない

実体は変わらず、座標系のほうが変わるというのがひたすら重要でひたすら勘違いの元になっている

例えば円の方程式から楕円の方程式を導く楕円に見えているものも円に見えているものも全く同じ実体である

円を楕円に変形したり楕円を円に変形したわけではなく、ある実体が円に見えている座標系と、同じ実体が楕円に見えている座標系の2つを考えて、2つの座標系の関係を円に適用して楕円の方程式を導くのである

固有ベクトルの例も同様にして、行列によって表されている実体は全く変わっておらず、座標系が変わったのである

## 光波工学での座標変換1: 微分方程式の座標変換

一定の微小周期Λのグレーティング構造で成り立つ微分方程式がある

微小周期が変化するようなグレーティング構造ではどのような微分方程式が成り立つか知りたい

ここで我々とは別のオブザーバーを考える

そのオブザーバーは我々とは別の座標系に住んでおり、我々にとっての変化するグレーティング構造が、周期的な構造に見えているというのである

そのオブザーバーにとって周期的に見えているグレーティング構造ではそのオブザーバーの座標系で既知の微分方程式が成り立つである

そしてそのオブザーバーの座標系をどのように座標変換すれば我々の座標系になるかがわかっている時

既知の微分方程式に対してその座標変換を適用することで、我々の座標系における変化のあるグレーティング構造を記述することができる

ここで大事なのが、周期的だったり変化して見えるそのグレーティング構造の実体は全く変わっておらず、座標系が変わっただけなのである

## 光波工学での座標変換2: 微小区間の変化から座標変換を逆算

個々の微小周期は座標変換の微分の逆数になるのだが、この話は小難しくなるのでまた今度続き書く...

## 相対性理論における座標変換

とにかく座標変換は定規を変えて同じものを測るというだけの操作なのに、ちゃんと考えるとめちゃくちゃ難しいのである

そして4次元の時空間における座標変換を考えるから、相対性理論は超難しいのである

この4次元の時空間というのが厄介で、例えば縦横長さ10センチの立方体はイメージできても、縦と横と長さと寿命が10センチの超立法体をイメージしろと言われてもできない

他にも三次元の像として親の顔をイメージすることはできても、4次元の像としてすべての時間軸を通してみた親の顔をイメージすることはできない

しかも4次元時空間上では時間変化という概念は存在しないのである、量子力学が登場してなかったら相対性理論的には未来も決まっており時間も流れておらず、4次元時空間上で見てる点を変えているだけということになる

これだけでも難しいのに、それに座標変換を適用して見方を変えるのだから、直感で理解することはもはや不可能である
"""
