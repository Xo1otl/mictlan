# テンソル

## 導入

例えばApexの戦績を分析したいとする

自身の武器、ステージ、敵のランク、敵の武器、敵のキャラなど様々な観点からK/Dをグラフにしたい可能性がある

自身の武器ごとステージごとランクごと敵のキャラごとにそれぞれindexを貼って複数のデータをもつ？

今度は敵の武器がこれで自身の武器がこれのときの勝敗グラフをみて武器相性を考えたいなどの要求が生まれるかもしれない

こういった複雑な構造のデータを扱うときに、テンソルを考えると良い

テンソルはかんたんに言えば多次元データのこどで、勝敗を記録するときに多次元データとして記録すると上の要件をすべて満たす方法を考えることができる

## テンソルとは

スライスによる演算ができる多次元データ構造

スライスは、各次元ごとに、start,stop,stepを指定するもの

3x4x5x6の4次元360の要素について、`[::2,2,1:3,:]`のように指定すれば2x2x6のテンソルが得られる

この操作は値のコピーを行わない場合O(1)で完了する

## ユースケース

導入でのべたApexの例では、自身の武器、相手の武器、マップ、マップの位置、敵のランク、自身のランクなどをindexとして与えたダメージと受けたダメージを記録することを考える

これは6次元のテンソルとして表現できて、テンソルではすべてのスライス操作がO(1)なので、自身の武器と相手の武器だけ指定してダメージの記録をすべて取得したり、敵のランクと自身のランクだけを指定したりしでダメージを取得できる

これを集計すれば自由な分析ができるので、テンソルはデータ分析において非常に有用

## テンソルの実装

1. 高次元データを一次元配列で表す
2. ストライドとオフセットとサイズをもったProxyオブジェクトを用いて操作する
