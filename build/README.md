# build

nameがあるのでcompose upは基本buildから行う

## secrets.json

- すべてのシークレットファイルの参照を持っている
- secretmが作ったファイルで、ここを追記したり消したりすると管理するシークレットを編集できる
- 自動追加されるのでgitignoreからも消すこと推奨

## vpn

- vpnサーバーの管理コンソールのssl化のためのnginxの設定ファイルがある
- envファイルにあわせてサーバーを建てる場所やポートを調節する必要がある

## Memo

- dockerのincludeという文法がある
- サービスによっては複数のドメインで使われる場合がある
- その場合はドメイン固有の設定をドメインのフォルダに書いて、サービス自体のフォルダを別で用意してDIContainerのようにして集約する
- メインのdocker composeではその集約をincludeする
